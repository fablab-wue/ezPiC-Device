{{ include ../t_std_head.html }}

<div class="gadgets">
  <div class="card">
    <div class="card-header p-2" role="tab" id="heading">
      <h5 class="d-flex align-items-start m-0 ">
        <a class="btn btn-secondary btn-sm mx-1 ml-0 mr-3" data-toggle="collapse" href="#collapse" aria-expanded="false"
          aria-controls="collapse">
          <i class="fas fa-chevron-down"></i>
        </a>
        <div class="mr-auto">
          {{ PNAME }} - '{{NAME}}'
        </div>
        #{{index}}
      </h5>
    </div>
    <div id="collapse" class="collapse" role="tabpanel" aria-labelledby="heading">
      <div class="card-body">
        { { PINFO } }
      </div>
    </div>
  </div>
</div>


<form method="post">

  <button type="submit" class="btn btn-warning btn-lg float-right">Submit</button>

  <h4>
    <span class="badge badge-dark col-sm-12">Gadget</span>
  </h4>

  <div class="form-group row">
    <label for="NAME" class="col-sm-2 form-text">Gadget Name</label>
    <div class="col-sm-3">
      <input type="text" class="form-control" name="NAME" id="NAME" value="{{NAME}}">
    </div>
  </div>

  <div class="form-group row">
    <div class="col-sm-2 form-text">Enabled</div>
    <div class="col-sm-10">
      <div class="form-check">
        <label class="form-check-label form-text">
          <input class="form-check-input" type="checkbox" name="ENABLE" id="ENABLE" value="ACTIVE" {{if ENABLE}}checked{{end}}>
        </label>
      </div>
    </div>
  </div>

  <div class="form-group row">
    <label for="TIMER" class="col-sm-2 form-text">Timer Interval</label>
    <div class="input-group col-sm-2">
      <input type="number" min="1" max="9999" class="form-control" name="TIMER" id="TIMER" value="{{TIMER}}">
      <div class="input-group-append">
        <span class="input-group-text">sec</span>
      </div>
    </div>
  </div>


  <h4>
    <span class="badge badge-dark col-sm-12">I2C Interface</span>
  </h4>

  <div class="form-group row align-items-center">
    <label for="PORT" class="col-sm-2 form-text">I2C Channel</label>
    <div class="col-sm-3">
      <select class="form-control" name="PORT" id="PORT" value="{{PORT}}">
        {{ for item in Ports }}
          <option value="{{item}}">{{item}}</option>
        {{ end }}
      </select>
    </div>
  </div>

  <div class="form-group row align-items-center">
    <label for="ADDR" class="col-sm-2 form-text">I2C Address</label>
    <div class="col-sm-3">
      <select class="form-control" name="ADDR" id="ADDR" value="{{ADDR}}">
        {{ for item in Addrs }}
          <option value="{{item}}">{{item}}</option>
        {{ end }}
      </select>
    </div>
  </div>


  <h4>
    <span class="badge badge-dark col-sm-12">ADC Settings</span>
  </h4>

  <div class="form-group row align-items-center">
    <label for="Mode" class="col-sm-2 form-text">Input Multiplexer</label>
    <div class="col-sm-7">
      <select class="form-control" name="Mode" id="Mode" value="{{Mode}}">
        <option value="0">Ch0: Ain0-GND, Ch1: Ain1-GND, Ch2: Ain2-GND, Ch3: Ain3-GND</option>
        <option value="1">Ch0: Ain0-Ain3, Ch1: Ain1-Ain3, Ch2: Ain2-Ain3</option>
        <option value="2">Ch0: Ain0-GND, Ch1: Ain1-GND, Ch2: Ain2-Ain3</option>
        <option value="3">Ch0: Ain0-Ain1, Ch1: Ain2-Ain3</option>
      </select>
    </div>
  </div>


  <h4>
    <span class="badge badge-dark col-sm-12">ADC Input Response</span>
  </h4>

  <div class="form-group row">
    <label for="RespVar0" class="col-sm-2 form-text">Resp. Variable</label>
    <div class="col-sm-7">
      <input type="text" class="form-control" name="RespVar0" id="RespVar0" value="{{RespVar0}}">
    </div>
  </div>

  <div class="form-group row">
    <label for="RespVar1" class="col-sm-2 form-text">Resp. Variable</label>
    <div class="col-sm-7">
      <input type="text" class="form-control" name="RespVar1" id="RespVar1" value="{{RespVar1}}">
    </div>
  </div>

  <div class="form-group row">
    <label for="RespVar2" class="col-sm-2 form-text">Resp. Variable</label>
    <div class="col-sm-7">
      <input type="text" class="form-control" name="RespVar2" id="RespVar2" value="{{RespVar2}}">
    </div>
  </div>

  <div class="form-group row">
    <label for="RespVar3" class="col-sm-2 form-text">Resp. Variable</label>
    <div class="col-sm-7">
      <input type="text" class="form-control" name="RespVar3" id="RespVar3" value="{{RespVar3}}">
    </div>
  </div>


  <h4>
    <span class="badge badge-dark col-sm-12">Resp. Variable Value Mapping</span>
  </h4>
  
  <div class="form-group row align-items-center">
      <label for="MapADC0" class="col-sm-2 form-text">Map ADC Value 0</label>
      <div class="input-group col-sm-2">
        <input type="number" class="form-control" name="MapADC0" id="MapADC0" value="{{MapADC0}}">
      </div>

      <label for="MapVal0" class="col-sm-2 form-text">to Output Value 0</label>
      <div class="col-sm-2">
        <input type="text" class="form-control" name="MapVal0" id="MapVal0" value="{{MapVal0}}">
      </div>
  </div>
          
  <div class="form-group row align-items-center">
    <label for="MapADC1" class="col-sm-2 form-text">Map ADC Value 1</label>
    <div class="input-group col-sm-2">
      <input type="number" class="form-control" name="MapADC1" id="MapADC1" value="{{MapADC1}}">
    </div>

    <label for="MapVal1" class="col-sm-2 form-text">to Output Value 1</label>
    <div class="col-sm-2">
      <input type="text" class="form-control" name="MapVal1" id="MapVal1" value="{{MapVal1}}">
    </div>
</div>
   

<h4>
  <span class="badge badge-dark col-sm-12">DAC Output Triggers</span>
</h4>

<div class="form-group row">
  <label for="TrigVar" class="col-sm-2 form-text">Trigger Variable</label>
  <div class="col-sm-7">
    <input type="text" class="form-control" name="TrigVar" id="TrigVar" value="{{TrigVar}}">
  </div>
</div>



<h4>
  <span class="badge badge-dark col-sm-12">Trig. Variable Value Mapping</span>
</h4>

<div class="form-group row align-items-center">
    <label for="MapOut0" class="col-sm-2 form-text">Map Variable Value 0</label>
    <div class="input-group col-sm-2">
      <input type="text" class="form-control" name="MapOut0" id="MapOut0" value="{{MapOut0}}">
    </div>

    <label for="MapVal0" class="col-sm-2 form-text">to 0 on DAC</label>
</div>
        
<div class="form-group row align-items-center">
  <label for="MapOut1" class="col-sm-2 form-text">Map Variable Value 1</label>
  <div class="input-group col-sm-2">
    <input type="text" class="form-control" name="MapOut1" id="MapOut1" value="{{MapOut1}}">
  </div>

  <label for="MapVal1" class="col-sm-2 form-text">to Full Scale on DAC</label>
</div>

<hr>

  <button type="submit" class="btn btn-warning btn-lg float-right">Submit</button>

</form>

{{ include ../t_std_foot.html }}